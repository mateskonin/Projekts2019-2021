<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie-edge">
    <title>
        Kwadrat
    </title>
    <style>
        .rect {
            margin: 100px;
            width: 100px;
            height: 100px;
            background-color: #000;
        }
    </style>
</head>

<body>
    <button>Animacja</button>
    <div class="rect"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.3/TweenMax.min.js"></script>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.0/gsap.min.js"></script> -->
    <script>
        const rect = document.querySelector(".rect");
        const btn = document.querySelector("button");

        const timeline = new TimelineMax({
            repeat: -1,
            yoyo: true,
            repeatDelay: 1,
            // onComplete: () => alert('koniec')
            paused: true,
            delay: 0
        });
        timeline
            .to(rect, 1, { x: "+=200" })
            .to(rect, 1, { y: 200 })
            .add('half')
            .to(rect, 1, { x: "-=200" })
            .to(rect, 1, { y: 0 })
            .to(rect, 1, { backgroundColor: "red" }, "half")

        btn.addEventListener("click", () => {
            if (timeline._paused) {
                timeline.resume();
            } else {
                timeline.pause();
            }

        })
    </script>
</body>

</html>